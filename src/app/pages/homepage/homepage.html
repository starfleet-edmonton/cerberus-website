<h1 class="text-center">USS Cerberus</h1>
<picture>
  <source srcset="logo_square_400.png" media="(max-width: 500px)" />
  <source srcset="logo_square.png" />
  <img
    src="logo_square.png"
    alt="USS Cerberus Logo"
    style="max-width: 100%; margin-left: auto; margin-right: auto"
  />
</picture>

@if (false){ @if (blogEntriesResource.asReadonly().isLoading()) {
<div>Loading...</div>
}@else{
<!-- <div *ngFor="let entry of blogEntriesResource.asReadonly().value()">
  <h1>{{ entry.fields.title }}</h1>
  <h4>{{ entry.fields.publishDate }}</h4>

  <div>{{ entry.fields.overview }}</div>
  <div>
    <app-contentful-rich-text [document]="entry.fields.entryContext"></app-contentful-rich-text>
  </div>
   <pre>{{ entry | json }}</pre>
</div> -->

@for (entry of blogEntriesResource.asReadonly().value(); track $index) {
<p-card [style]="{ maxWidth: '50rem', overflow: 'hidden' }">
  <ng-template #title> {{ entry.fields.title }}</ng-template>
  <ng-template #subtitle> {{ entry.fields.publishDate | ctDate }} </ng-template>

  @if (isVisible(entry.sys.id)) {
  <div>
    <app-contentful-rich-text [document]="entry.fields.entryContext"></app-contentful-rich-text>
  </div>
  <a (click)="toggleVisibility(entry.sys.id)" style="float: right">...Hide</a>
  }@else{
  <div>{{ entry.fields.overview }}</div>
  @if(entry.fields.entryContext) {
  <a (click)="toggleVisibility(entry.sys.id)" style="float: right">More...</a>
  } }
</p-card>
<br />
} } }
